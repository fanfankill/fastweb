(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61a0d878"],{"11c6":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"chatdiv"}},[e._m(0),e._m(1),n("div",{ref:"sendmes",staticClass:"sendmes",attrs:{contenteditable:"contenteditable",id:"senddiv"}}),n("div",{staticClass:"icontofix"},[n("el-popover",{attrs:{placement:"top-start",title:"请输入图片链接",width:"200",trigger:"hover"}},[n("el-input",{model:{value:e.needimg,callback:function(t){e.needimg=t},expression:"needimg"}}),n("el-button",{staticStyle:{"margin-top":"5px",float:"right"},attrs:{type:"primary",size:"mini"},on:{click:e.sendimg}},[e._v("发送")]),n("i",{staticClass:"el-icon-picture-outline",attrs:{slot:"reference"},slot:"reference"})],1)],1)])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chatdiv",attrs:{id:"showmes"}},[n("p",{staticStyle:{height:"0px",width:"100%"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"showperson"},[n("p",{attrs:{id:"currentpeople"}}),n("div",{attrs:{id:"allpersonmustshow"}})])}],a=(n("4160"),n("498a"),n("159b"),{mounted:function(){var e=this;this.joinhome(),document.onkeydown=function(t){var n=document.all?window.event:t;13==n.keyCode&&e.sendmessage()}},beforeDestroy:function(){this.$socket.emit("disconnect")},data:function(){return{currentnow:0,allperson:[],needimg:""}},methods:{joinhome:function(){this.$socket.emit("login",{adminid:sessionStorage.getItem("adminid"),img:sessionStorage.getItem("myimg"),adminname:sessionStorage.getItem("adminname")})},sendimg:function(){var e=this.needimg;console.log(e),this.$refs.sendmes.innerText="<img style='width:200px;height:200px' src='"+e+"'>",this.sendmessage()},sendmessage:function(){console.log(this.$refs.sendmes.innerText);var e=this.$refs.sendmes.innerText;if(e.trim()){var t=document.createElement("p"),n=document.createElement("span"),s=document.createElement("span"),i=document.createElement("img");i.src=sessionStorage.getItem("myimg"),n.innerHTML=e,s.innerHTML=sessionStorage.getItem("adminname"),i.className="myimg",s.className="rightspan2",n.className="rightspan",t.className="pp",t.appendChild(i),t.appendChild(s),t.appendChild(n),document.getElementById("showmes").appendChild(t),document.getElementById("showmes").scrollTop+=document.getElementById("showmes").offsetHeight,this.$socket.emit("client",{value:e,adminid:sessionStorage.getItem("adminid")})}else this.messageBox("消息不能为空","error");this.$refs.sendmes.innerHTML=""}},sockets:{loginback:function(e){if(console.log(e.usertotal),document.getElementById("currentpeople").innerText="当前在线人数："+e.usertotal,1==e.flag){var t=document.createElement("p");t.innerHTML=e.adminname+"加入了房间",t.style.color="red",t.style.fontWeight="1000",t.style.textAlign="center",t.style.fontSize="6px",document.getElementById("showmes").appendChild(t);var n=e.users;document.getElementById("allpersonmustshow").innerHTML="",n.forEach((function(e){var t=document.createElement("div");t.className="allpersonshow";var n=document.createElement("div");n.className="allimgshow";var s=document.createElement("img");s.src=e.img,n.appendChild(s);var i=document.createElement("div");i.className="nameshow";var a=document.createElement("span");a.innerText=e.adminname,i.appendChild(a),t.appendChild(n),t.appendChild(i),document.getElementById("allpersonmustshow").appendChild(t)}))}},sendmes:function(e){var t=document.createElement("p"),n=document.createElement("span"),s=document.createElement("span"),i=document.createElement("img");n.className="leftspan",s.innerHTML=e.users.adminname,i.src=e.users.img,i.className="otherimg2",s.className="leftspan2",n.innerHTML=e.value,t.appendChild(i),t.appendChild(s),t.appendChild(n),t.className="pp",document.getElementById("showmes").appendChild(t),document.getElementById("showmes").scrollTop+=document.getElementById("showmes").offsetHeight},somelive:function(e){var t=document.createElement("p");t.innerHTML=e.adminname+"离开了房间",t.style.color="green",t.style.fontWeight="1000",t.style.textAlign="center",t.style.fontSize="6px",document.getElementById("showmes").appendChild(t),document.getElementById("showmes").scrollTop+=document.getElementById("showmes").offsetHeight;var n=e.users;document.getElementById("allpersonmustshow").innerHTML="",n.forEach((function(e){var t=document.createElement("div");t.className="allpersonshow";var n=document.createElement("div");n.className="allimgshow";var s=document.createElement("img");s.src=e.img,n.appendChild(s);var i=document.createElement("div");i.className="nameshow";var a=document.createElement("span");a.innerText=e.adminname,i.appendChild(a),t.appendChild(n),t.appendChild(i),document.getElementById("allpersonmustshow").appendChild(t)})),console.log(e),document.getElementById("currentpeople").innerText="当前在线人数："+e.usertotal}}}),o=a,r=(n("7a4c"),n("2877")),c=Object(r["a"])(o,s,i,!1,null,null,null);t["default"]=c.exports},"159b":function(e,t,n){var s=n("da84"),i=n("fdbc"),a=n("17c2"),o=n("9112");for(var r in i){var c=s[r],m=c&&c.prototype;if(m&&m.forEach!==a)try{o(m,"forEach",a)}catch(l){m.forEach=a}}},"17c2":function(e,t,n){"use strict";var s=n("b727").forEach,i=n("a640"),a=n("ae40"),o=i("forEach"),r=a("forEach");e.exports=o&&r?[].forEach:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,n){"use strict";var s=n("23e7"),i=n("17c2");s({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"498a":function(e,t,n){"use strict";var s=n("23e7"),i=n("58a8").trim,a=n("c8d2");s({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var s=n("1d80"),i=n("5899"),a="["+i+"]",o=RegExp("^"+a+a+"*"),r=RegExp(a+a+"*$"),c=function(e){return function(t){var n=String(s(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(r,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},"68cd":function(e,t,n){},"7a4c":function(e,t,n){"use strict";var s=n("68cd"),i=n.n(s);i.a},a640:function(e,t,n){"use strict";var s=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&s((function(){n.call(null,t||function(){throw 1},1)}))}},c8d2:function(e,t,n){var s=n("d039"),i=n("5899"),a="​᠎";e.exports=function(e){return s((function(){return!!i[e]()||a[e]()!=a||i[e].name!==e}))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-61a0d878.bd1ea6c1.js.map